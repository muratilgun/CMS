!function(){var u=/"/g;CKEDITOR.plugins.add("autolink",{requires:"clipboard,textmatch",init:function(n){function i(t){var e;return t=(t={text:t,link:t.replace(u,"%22")}).link.match(CKEDITOR.config.autolink_urlRegex)?a.output(t):s.output(t),n.plugins.link&&(t=CKEDITOR.dom.element.createFromHtml(t),e=CKEDITOR.plugins.link.parseLinkAttributes(n,t),e=CKEDITOR.plugins.link.getLinkAttributes(n,e),CKEDITOR.tools.isEmpty(e.set)||t.setAttributes(e.set),e.removed.length&&t.removeAttributes(e.removed),t.removeAttribute("data-cke-saved-href"),t=t.getOuterHtml()),t}function o(t,e){var a=t.slice(0,e).split(/\s+/);return(a=a[a.length-1])&&r(a)?{start:t.lastIndexOf(a),end:e}:null}function r(t){return t.match(CKEDITOR.config.autolink_urlRegex)||t.match(CKEDITOR.config.autolink_emailRegex)}var l,a=new CKEDITOR.template('<a href="{link}">{text}</a>'),s=new CKEDITOR.template('<a href="mailto:{link}">{text}</a>');n.on("paste",function(t){var e;t.data.dataTransfer.getTransferType(n)!=CKEDITOR.DATA_TRANSFER_INTERNAL&&(-1<(e=t.data.dataValue).indexOf("<")||!r(e)||(t.data.dataValue=i(e),t.data.type="html"))}),CKEDITOR.env.ie&&!CKEDITOR.env.edge||(l=n.config.autolink_commitKeystrokes||CKEDITOR.config.autolink_commitKeystrokes,n.on("key",function(t){var e,a;"wysiwyg"===n.mode&&-1!=CKEDITOR.tools.indexOf(l,t.data.keyCode)&&(!(e=CKEDITOR.plugins.textMatch.match(n.getSelection().getRanges()[0],o))||((t=n.getSelection()).getRanges()[0].startContainer.getAscendant("a",!0)||(t.selectRanges([e.range]),n.insertHtml(i(e.text),"text"),CKEDITOR.env.webkit))||(e=t.getRanges()[0],(a=n.createRange()).setStartAfter(e.startContainer),t.selectRanges([a])))}))}}),CKEDITOR.config.autolink_commitKeystrokes=[13,32],CKEDITOR.config.autolink_urlRegex=/^(https?|ftp):\/\/(-\.)?([^\s\/?\.#]+\.?)+(\/[^\s]*)?[^\s\.,]$/i,CKEDITOR.config.autolink_emailRegex=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/}();